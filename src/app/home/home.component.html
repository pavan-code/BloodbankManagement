
<div *ngIf = "show" class="contain">
    <div class="form">
        <h3 class="find">Find Blood</h3>
        <div class="spin" *ngIf = "hide">
            <mat-spinner diameter='100' strokeWidth='3'></mat-spinner>
            <br>
            <p>Getting donor data..</p>
        </div>
        <form action="" [formGroup]="find" *ngIf = "!hide">
            <div class="form-group">
                <label for="blood">Blood Group</label>
                <select name="blood" id="blood" class="form-control" formControlName="blood">
                    <option value="">--Blood Group--</option>
                    <option value="{{blood}}" *ngFor = "let blood of bloods">
                        {{blood}}
                    </option>
                </select>
            </div>
            <div class="form-group">
                <label for="state">State</label>
                <select (change)="changeState($event)" name="state" id="state" class="form-control" formControlName="state">
                    <option value="">--Select State--</option>
                    <option value="{{state.name}}" *ngFor = "let state of states">
                        {{state.name}}
                    </option>   
                </select>
            </div>
            <div class="form-group">
                <label for="district">District</label>
                <select name="district" id="district" class="form-control" formControlName="district">
                    <option value="" selected>--Select District--</option>
                    <option value="{{district}}" *ngFor = "let district of districts">
                        {{district}}
                    </option>
                </select>
            </div>
            <div class="actions">
                <button mat-button (click) = "findBlood()">Find Blood</button>
            </div>
        </form>
    </div>
</div>
<button mat-stroked-button *ngIf = "!show" (click) = "negate()">Back</button>
<div *ngIf = "!show">
    <app-donorlist [donors]= "donorFinal"></app-donorlist>
</div>
<div class="groups">
    <h1>Total Blood Donors Registered With Blood Bank</h1>
    <div class="cards">
        <mat-card *ngFor = "let blood of bloods; let i=index">
            <mat-card-content>
                {{blood}}
                <span>Donors <span class="count">{{count[i]}}</span></span>
            </mat-card-content>
        </mat-card>
    </div>
</div>